<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- 배경 -->
  <rect width="800" height="600" fill="#f8f9fa" />
  
  <!-- 제목 -->
  <text x="400" y="40" font-family="Arial" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">Diamond Cut 업그레이드 메커니즘</text>
  
  <!-- Diamond 컨트랙트 -->
  <rect x="300" y="80" width="200" height="80" rx="10" fill="#4e73df" />
  <text x="400" y="125" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="white">Diamond 컨트랙트</text>
  
  <!-- Diamond Cut Facet -->
  <rect x="300" y="200" width="200" height="80" rx="10" fill="#1cc88a" />
  <text x="400" y="245" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="white">DiamondCutFacet</text>
  
  <!-- 화살표: Diamond -> DiamondCut -->
  <line x1="400" y1="160" x2="400" y2="200" stroke="#333" stroke-width="2" />
  <polygon points="400,200 395,190 405,190" fill="#333" />
  
  <!-- 함수 셀렉터 테이블 -->
  <rect x="100" y="320" width="600" height="120" rx="8" fill="#f6c23e" />
  <text x="400" y="350" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="#333">함수 셀렉터 매핑 테이블</text>
  <line x1="100" y1="370" x2="700" y2="370" stroke="#333" stroke-width="1" />
  
  <!-- 함수 셀렉터 테이블 헤더 -->
  <text x="150" y="390" font-family="Arial" font-size="14" text-anchor="middle" fill="#333">함수 셀렉터</text>
  <text x="300" y="390" font-family="Arial" font-size="14" text-anchor="middle" fill="#333">Facet 주소</text>
  <text x="450" y="390" font-family="Arial" font-size="14" text-anchor="middle" fill="#333">Position</text>
  <text x="600" y="390" font-family="Arial" font-size="14" text-anchor="middle" fill="#333">Action</text>
  
  <!-- 화살표: DiamondCut -> 테이블 -->
  <line x1="400" y1="280" x2="400" y2="320" stroke="#333" stroke-width="2" />
  <polygon points="400,320 395,310 405,310" fill="#333" />
  <text x="450" y="300" font-family="Arial" font-size="14" fill="#333">업데이트</text>
  
  <!-- 다이아몬드 컷 과정 -->
  <rect x="100" y="460" width="600" height="120" rx="8" fill="#f8f9fa" stroke="#333" stroke-width="2" />
  <text x="400" y="490" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="#333">Diamond Cut 작업 과정</text>
  
  <!-- 단계 설명 -->
  <text x="130" y="525" font-family="Arial" font-size="16" text-anchor="start" fill="#333">1. 기존 Facet 함수 제거 (FacetCutAction.Remove)</text>
  <text x="130" y="555" font-family="Arial" font-size="16" text-anchor="start" fill="#333">2. 새로운 Facet 함수 추가 (FacetCutAction.Add)</text>
  
  <!-- Facet들 -->
  <rect x="100" y="200" width="120" height="60" rx="5" fill="#e74a3b" />
  <text x="160" y="235" font-family="Arial" font-size="14" text-anchor="middle" fill="white">Old Facet</text>
  
  <rect x="580" y="200" width="120" height="60" rx="5" fill="#2ecc71" />
  <text x="640" y="235" font-family="Arial" font-size="14" text-anchor="middle" fill="white">New Facet</text>
  
  <!-- 화살표: Old Facet -> DiamondCut -->
  <line x1="220" y1="230" x2="300" y2="230" stroke="#e74a3b" stroke-width="2" />
  <polygon points="300,230 290,225 290,235" fill="#e74a3b" />
  <text x="260" y="215" font-family="Arial" font-size="14" fill="#e74a3b">Remove</text>
  
  <!-- 화살표: New Facet -> DiamondCut -->
  <line x1="580" y1="230" x2="500" y2="230" stroke="#2ecc71" stroke-width="2" />
  <polygon points="500,230 510,225 510,235" fill="#2ecc71" />
  <text x="540" y="215" font-family="Arial" font-size="14" fill="#2ecc71">Add</text>
</svg> 